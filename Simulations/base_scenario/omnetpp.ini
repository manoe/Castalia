# ****************************************************************************
# *  Copyright: National ICT Australia,  2007 - 2010                         *
# *  Developed at the ATP lab, Networked Systems research theme              *
# *  Author(s): Athanassios Boulis, Yuriy Tselishchev                        *
# *  This file is distributed under the terms in the attached LICENSE file.  *
# *  If you do not find this file, copies can be found by writing to:        *
# *                                                                          *
# *      NICTA, Locked Bag 9013, Alexandria, NSW 1435, Australia             *
# *      Attention:  License Inquiry.                                        *
# *                                                                          *
# ***************************************************************************/

[General]
include ../Parameters/Castalia.ini
# _____ _                 _       _   _             
#/  ___(_)               | |     | | (_)            
#\ `--. _ _ __ ___  _   _| | __ _| |_ _  ___  _ __  
# `--. \ | '_ ` _ \| | | | |/ _` | __| |/ _ \| '_ \ 
#/\__/ / | | | | | | |_| | | (_| | |_| | (_) | | | |
#\____/|_|_| |_| |_|\__,_|_|\__,_|\__|_|\___/|_| |_|
#
sim-time-limit = 10min
seed-set = 1678182223

#______           _                                  _   
#|  _  \         | |                                | |  
#| | | |___ _ __ | | ___  _   _ _ __ ___   ___ _ __ | |_ 
#| | | / _ \ '_ \| |/ _ \| | | | '_ ` _ \ / _ \ '_ \| __|
#| |/ /  __/ |_) | | (_) | |_| | | | | | |  __/ | | | |_ 
#|___/ \___| .__/|_|\___/ \__, |_| |_| |_|\___|_| |_|\__|
#          | |             __/ |                         
#          |_|            |___/                          
#
SN.field_x = 160	# meters
SN.field_y = 160	# meters
SN.numNodes = 64
SN.deployment = "[0..63]->8x8"
SN.node[*].MobilityManagerName = "NoMobilityManager"

# _    _ _          _                      _                            _ 
#| |  | (_)        | |                    | |                          | |
#| |  | |_ _ __ ___| | ___  ___ ___    ___| |__   __ _ _ __  _ __   ___| |
#| |/\| | | '__/ _ \ |/ _ \/ __/ __|  / __| '_ \ / _` | '_ \| '_ \ / _ \ |
#\  /\  / | | |  __/ |  __/\__ \__ \ | (__| | | | (_| | | | | | | |  __/ |
# \/  \/|_|_|  \___|_|\___||___/___/  \___|_| |_|\__,_|_| |_|_| |_|\___|_|
#
SN.wirelessChannel.onlyStaticNodes = true
SN.wirelessChannel.pathLossExponent = 2.3


#______          _ _       
#| ___ \        | (_)      
#| |_/ /__ _  __| |_  ___  
#|    // _` |/ _` | |/ _ \ 
#| |\ \ (_| | (_| | | (_) |
#\_| \_\__,_|\__,_|_|\___/ 
#
SN.node[*].Communication.Radio.RadioParametersFile = "../Parameters/Radio/CC2420.txt"
SN.node[*].Communication.Radio.TxOutputPower = "0dBm"

#___  ___           
#|  \/  |           
#| .  . | __ _  ___ 
#| |\/| |/ _` |/ __|
#| |  | | (_| | (__ 
#\_|  |_/\__,_|\___|
#
SN.node[*].Communication.MAC.macBufferSize = 256



#  ___              _ _           _   _             
# / _ \            | (_)         | | (_)            
#/ /_\ \_ __  _ __ | |_  ___ __ _| |_ _  ___  _ __  
#|  _  | '_ \| '_ \| | |/ __/ _` | __| |/ _ \| '_ \ 
#| | | | |_) | |_) | | | (_| (_| | |_| | (_) | | | |
#\_| |_/ .__/| .__/|_|_|\___\__,_|\__|_|\___/|_| |_|
#      | |   | |                                    
#      |_|   |_|                                    

SN.node[*].ApplicationName = "ThroughputTest"
#SN.node[*].ApplicationName = "ForestFire"

#SN.node[*].Application.packet_rate = ${rate=0.05,0.1,0.2,0.5,1,2}
SN.node[*].Application.packet_rate = 0.1
SN.node[*].Application.startupDelay = 130 

SN.node[0].Application.isSink = true
SN.node[19].Application.isMaster = true
SN.node[*].Communication.routing.f_cost_func_mu = 1.0
#SN.node[18].Application.isMaster = true
#SN.node[27].Application.isMaster = true
#SN.node[36].Application.isMaster = true
#SN.node[45].Application.isMaster = true
#SN.node[54].Application.isMaster = true
#SN.node[63].Application.isMaster = true

SN.node[*].Application.constantDataPayload = 20
SN.node[*].Application.startupRandomization = 20
#SN.node[*].Application.packetRepetition = 0 #${Repetition=0,1,2,3,4,5,6,7,8,9,10,20}
#SN.wirelessChannel.temporalModelParametersFile = "../Parameters/WirelessChannel/BANmodels/TemporalModel.txt"
SN.node[*].Communication.Radio.collisionModel = 2

SN.node[*].Communication.MACProtocolName = "TMAC"
SN.node[*].Communication.MAC.collisionResolution = 1 # ${CA=0,1,2}
#SN.node[*].Communication.MAC.maxTxRetries = 2  # ${maxTxRetries=1,2,3,4,5,6,7,8,9,10,11}
#SN.node[*].Communication.MAC.allowSinkSync = false
SN.node[0].ResourceManager.sigmaCPUClockDrift = 0
#SN.node[45].ResourceManager.selfDestructTimer = 1000
SN.node[*].Communication.Routing.f_e2e_qos_pdr = 0.7 # 0.5
SN.node[*].Communication.Routing.f_rep_m_pdr = true
SN.node[*].Communication.Routing.f_t_send_pkt = 2


SN.node[*].Communication.RoutingProtocolName = "shmrp"
SN.node[*].Communication.Routing.f_rresp_required = true
SN.node[*].Communication.Routing.f_restart_learning = true
SN.node[*].Communication.Routing.t_l = 1
SN.node[*].Communication.Routing.f_random_t_l = true
SN.node[*].Communication.Routing.f_random_t_l_sigma = 0.08
SN.node[*].Communication.Routing.f_rinv_table_admin = "erase_on_round"
SN.node[*].Communication.Routing.ring_radius = 2
#SN.node[*].Communication.Routing.t_est = 2
SN.node[*].Communication.Routing.f_interf_ping = true
SN.node[*].Communication.Routing.f_round_keep_pong = true
SN.node[*].Communication.Routing.f_cost_function = "hop_pdr_and_interf"
#SN.node[*].Communication.Routing.f_static_routing = true
#SN.node[*].Communication.Routing.f_rand_ring_hop = true
#SN.node[*].Communication.Routing.f_cf_after_rresp = ${CFA=false,true}
SN.node[*].Communication.Routing.f_cf_after_rresp = true
SN.node[*].Communication.Routing.f_measure_w_rreq = true
SN.node[*].Communication.Routing.f_meas_rreq_count = 10 # ${RRC=1,2,5,10}
SN.node[*].Communication.Routing.f_calc_max_hop = true
SN.node[*].Communication.Routing.f_qos_pdr = 0.9
#SN.node[*].Communication.Routing.t_meas = 4
SN.node[*].Communication.Routing.f_rt_recalc_w_emerg = true 
SN.node[*].Communication.Routing.f_reroute_pkt = true 
SN.node[*].Communication.Routing.f_second_learn = "broadcast"
SN.node[*].Communication.Routing.f_t_sec_l = 2
SN.node[*].Communication.Routing.f_t_sec_l_start = 500
SN.node[*].Communication.Routing.f_detect_link_fail = true
SN.node[*].Communication.Routing.f_rt_fallb_wo_qos = false
SN.node[*].Communication.Routing.f_send_pfail_rwarn = true
SN.node[*].Communication.Routing.f_fail_count = 30


#SN.node[*].Communication.RoutingProtocolName = "flooding"
#SN.node[*].Communication.RoutingProtocolName = "MultipathRingsRouting"
#SN.node[*].Communication.Routing.repeat = ${repeat=1,2,3,4,5}
#SN.node[*].Communication.Routing.repeat = 1
#SN.node[*].Application.collectTraceInfo = true
SN.node[0].Application.periodic_measurement = true
#SN.node[0].Application.meas_period = true
SN.node[*].Application.meas_queue_length = 10000


#SN.node[*].Communication.MAC.collectTraceInfo = true
#SN.node[*].Communication.Radio.collectTraceInfo = true

#SN.node[*].Communication.Routing.collectTraceInfo = true

SN.physicalProcess[*].collectTraceInfo = true
SN.node[*].SensorManager.registerNode = true
SN.physicalProcessName = "WildFirePhysicalProcess"
SN.physicalProcess[*].map_file = "bundle_small.bin"
SN.physicalProcess[*].map_scale = 1
SN.physicalProcess[*].no_map_file = true
SN.physicalProcess[*].wf_start_x_coord = 99 
SN.physicalProcess[*].wf_start_y_coord = 99
SN.physicalProcess[*].w_a = 0

SN.physicalProcess[*].ca_step_period = 120
SN.physicalProcess[*].seed = 10
SN.physicalProcess[*].ca_start_timer = 800

# _____                  
#|_   _|                 
#  | |_ __ __ _  ___ ___ 
#  | | '__/ _` |/ __/ _ \
#  | | | | (_| | (_|  __/
#  \_/_|  \__,_|\___\___|
#

SN.wirelessChannel.collectTraceInfo = false


[Config seed]
seed-set = 0 

[Config rreq_meas]
SN.node[*].Communication.Routing.f_meas_rreq_count = 5

[Config qos_pdr]
SN.node[*].Communication.Routing.f_qos_pdr = 0.5

